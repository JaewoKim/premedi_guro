<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>PreMedi N.CER - í†µí•© CDSS (ìµœì¢… ìˆ˜ì •íŒ)</title>
    <style>
        :root { --primary: #4f46e5; --crt: #ef4444; --warn: #f59e0b; --bg: #f3f4f6; }
        * { box-sizing: border-box; }
        body { font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif; margin: 0; display: flex; height: 100vh; background: var(--bg); color: #1f2937; }
        
        /* ë ˆì´ì•„ì›ƒ */
        .sidebar { width: 400px; background: white; border-right: 1px solid #e5e7eb; display: flex; flex-direction: column; }
        .main { flex: 1; padding: 25px; display: flex; flex-direction: column; gap: 20px; overflow: hidden; }
        
        /* í—¤ë” */
        .header { padding: 20px; border-bottom: 1px solid #e5e7eb; background: white; }
        .title { font-size: 20px; font-weight: 800; color: var(--primary); display: flex; align-items: center; gap: 8px; }
        .badge { background: #1f2937; color: white; padding: 3px 8px; border-radius: 6px; font-size: 11px; }

        /* íƒ­ ìŠ¤íƒ€ì¼ */
        .tabs { display: flex; flex-wrap: wrap; gap: 6px; padding: 12px; background: #f9fafb; border-bottom: 1px solid #e5e7eb; }
        .tab { padding: 8px 12px; font-size: 12px; border: 1px solid #d1d5db; border-radius: 20px; background: white; cursor: pointer; color: #6b7280; transition: 0.2s; font-weight: 500; }
        .tab:hover { border-color: var(--primary); color: var(--primary); }
        .tab.active { background: var(--primary); color: white; border-color: var(--primary); font-weight: 700; }

        /* ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        .list-container { flex: 1; overflow-y: auto; padding: 12px; }
        .item { padding: 16px; border: 1px solid #e5e7eb; border-radius: 10px; margin-bottom: 8px; background: white; cursor: pointer; transition: 0.2s; position: relative; }
        .item:hover { border-color: var(--primary); transform: translateY(-2px); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        .item.selected { border: 2px solid var(--primary); background: #eef2ff; }
        .item.selected::after { content: 'âœ”'; position: absolute; right: 15px; top: 15px; color: var(--primary); font-weight: bold; }
        
        .item-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px; }
        .item-title { font-size: 14px; font-weight: 700; color: #111; }
        .item-sub { font-size: 12px; color: #6b7280; }
        .tag { font-size: 10px; padding: 2px 6px; border-radius: 4px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px; }
        .tag.crt { background: #fee2e2; color: #991b1b; }
        .tag.warn { background: #fef3c7; color: #92400e; }
        .tag.info { background: #e0f2fe; color: #075985; }

        /* ê²°ê³¼ íŒ¨ë„ */
        .panels { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; flex: 1; min-height: 0; }
        .panel { background: white; border-radius: 16px; display: flex; flex-direction: column; overflow: hidden; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); border: 1px solid #e5e7eb; }
        
        .p-head { padding: 15px 20px; border-bottom: 1px solid #e5e7eb; display: flex; justify-content: space-between; align-items: center; font-weight: 700; font-size: 15px; }
        .p-body { flex: 1; padding: 25px; overflow-y: auto; white-space: pre-wrap; line-height: 1.6; font-size: 14px; }
        
        .med { border-top: 5px solid #374151; }
        .med .p-body { font-family: 'Pretendard', sans-serif; color: #374151; background: #fafafa; }
        .pat { border-top: 5px solid #f59e0b; background: #fffbeb; }
        .pat .p-body { color: #4b5563; font-size: 15px; }

        /* ë²„íŠ¼ */
        .footer { margin-top: auto; display: flex; justify-content: flex-end; gap: 10px; }
        .btn { padding: 12px 24px; border-radius: 8px; font-weight: 700; cursor: pointer; border: none; font-size: 14px; transition: 0.2s; }
        .btn-reset { background: #f3f4f6; color: #4b5563; }
        .btn-reset:hover { background: #e5e7eb; }
        .btn-copy { background: var(--primary); color: white; box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.3); }
        .btn-copy:hover { background: #4338ca; transform: translateY(-1px); }

    </style>
</head>
<body>

<div class="sidebar">
    <div class="header">
        <div class="title">ğŸ¥ PreMedi N.CER <span class="badge">Final Ver</span></div>
        <div style="font-size:12px; color:#6b7280; margin-top:6px;">Stoelting + User Text Data [153-304]</div>
    </div>
    <div class="tabs" id="tabs"></div>
    <div class="list-container" id="list"></div>
</div>

<div class="main">
    <div class="panels">
        <div class="panel med">
            <div class="p-head">
                <span>ğŸ‘¨â€âš•ï¸ Medical Record (EMR)</span>
                <span style="font-size:12px; font-weight:400; color:#6b7280;">ì°¨íŒ…/ë™ì˜ì„œìš©</span>
            </div>
            <div id="outMed" class="p-body" style="color:#9ca3af; text-align:center; padding-top:150px;">
                ì¢Œì¸¡ ë¦¬ìŠ¤íŠ¸ì—ì„œ í™˜ìì˜ ì§ˆí™˜ì„ ì„ íƒí•˜ì„¸ìš”.
            </div>
        </div>
        <div class="panel pat">
            <div class="p-head" style="color:#92400e;">
                <span>ğŸ“± Patient Guide (App)</span>
                <span style="font-size:12px; font-weight:400; color:#b45309;">í™˜ì/ë³´í˜¸ì ì„¤ëª…ìš©</span>
            </div>
            <div id="outPat" class="p-body" style="color:#9ca3af; text-align:center; padding-top:150px;">
                í™˜ìê°€ ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…ì´ ìƒì„±ë©ë‹ˆë‹¤.
            </div>
        </div>
    </div>
    <div class="footer">
        <button class="btn btn-reset" onclick="resetAll()">ì´ˆê¸°í™”</button>
        <button class="btn btn-copy" onclick="copyResult()">ğŸ“‹ ì „ì²´ ë³µì‚¬</button>
    </div>
</div>

<script>
    /* [í†µí•© ë°ì´í„°ì…‹] 
       ì£¼ì˜: ë°±í‹±(`)ì„ ì‚¬ìš©í•˜ì—¬ ì¤„ë°”ê¿ˆ ì˜¤ë¥˜ë¥¼ ë°©ì§€í–ˆìŠµë‹ˆë‹¤. 
       ì´ ë¶€ë¶„ì€ ì ˆëŒ€ ìˆ˜ì •í•˜ì§€ ë§ˆì‹œê³  ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì„¸ìš”.
    */
    const masterData = [
        // --- 1. General / History ---
        { id: 'src_153', cat: 'special', lvl: 'crt', label: 'ì•„ë‚˜í•„ë½ì‹œìŠ¤ ê³¼ê±°ë ¥', sub: 'Anaphylactoid reaction', 
          med: `anaphylactoid reaction ë°œìƒì‹œ Peri-op cardiovascular cx.(malignant arrhythmia, Myocardial Infarction, Heart Failure, Sudden Cardiac Death ë“±) ë°œìƒ ê°€ëŠ¥ì„± ë° ì´ë¡œ ì¸í•œ ICU/Ventilator care ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.`, 
          pat: `ê³¼ê±° ì‹¬í•œ ì•Œë ˆë¥´ê¸° ë°˜ì‘ì´ ìˆì—ˆë˜ ê²½ìš°, ë§ˆì·¨ ì¤‘ ì‹¬ì¥ í•©ë³‘ì¦ì´ ë°œìƒí•  ìˆ˜ ìˆì–´ ì´ì— ëŒ€í•œ ì² ì €í•œ ì¤€ë¹„ì™€ ì§‘ì¤‘ ì¹˜ë£Œ ê°€ëŠ¥ì„±ì„ ë¯¸ë¦¬ ì„¤ëª…ë“œë¦½ë‹ˆë‹¤.` },
        
        { id: 'src_154', cat: 'respi', lvl: 'warn', label: 'COVID-19 ê°ì—¼ë ¥', sub: '7ì£¼/10ì¼ ê¸°ì¤€', 
          med: `ì½”ë¡œë‚˜ 19 ê°ì—¼ë ¥ì´ ìˆëŠ” í™˜ìì˜ ê²½ìš° ìˆ˜ìˆ  í›„ í•©ë³‘ì¦ ê°€ëŠ¥ì„±ì„ ê³ ë ¤í•˜ì—¬ ê²€ì‚¬ ì–‘ì„±ì¼ë¡œë¶€í„° 7ì£¼ ì´í›„ ì •ê·œ ìˆ˜ìˆ ì„ í•˜ëŠ” ê²ƒì„ ê¶Œê³ í•˜ë‚˜ 7ì£¼ ì´ë‚´ì— ì •ê·œìˆ˜ìˆ ì„ ì‹œí–‰í•˜ê³ ì í•˜ëŠ” ê²½ìš° 10ì¼ ì´í›„ í•˜ëŠ” ê²ƒì„ ê¶Œê³ í•©ë‹ˆë‹¤.\n\nìˆ˜ìˆ ì„ ì´ë³´ë‹¤ ì•ë‹¹ê²¨ ì‹œí–‰í•˜ëŠ” ê²½ìš° peri postop respiratory Cx.(asthma or COPD attack, atelectasis, pneumonia, pul. edema, respiratory failure) ë°œìƒ ê°€ëŠ¥ì„± ë° ì´ë¡œ ì¸í•œ ICU/ventilator care ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì„¤ëª…í•˜ê³  OP risk /benefit ê³ ë ¤í•˜ì—¬ í™˜ì ë° ë³´í˜¸ìì™€ ì¶©ë¶„í¬ ìƒì˜ í›„ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.`, 
          pat: `ì½”ë¡œë‚˜ í™•ì§„ í›„ í ê¸°ëŠ¥ íšŒë³µì„ ìœ„í•´ 7ì£¼ ì´í›„ ìˆ˜ìˆ ì„ ê¶Œì¥í•©ë‹ˆë‹¤. ì¼ì •ì„ ë‹¹ê¸¸ ê²½ìš° íë ´ ë“± í•©ë³‘ì¦ ìœ„í—˜ì´ ë†’ì•„ì§ˆ ìˆ˜ ìˆìŒì„ ì´í•´í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.` },
        
        { id: 'src_158', cat: 'hepatic', lvl: 'warn', label: 'ì§§ì€ ìˆ˜ìˆ  ê°„ê²©', sub: 'Short op interval', 
          med: `short op intervalë¡œ ì¸í•œ peri-postop hepatic cx ë°œìƒ ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì„¤ëª…í•˜ì„¸ìš”.\n\nshort intervalë¡œ ìˆ˜ìˆ ì„ í•´ì•¼í•˜ëŠ” ì´ìœ ì— ëŒ€í•œ ì¶©ë¶„í•œ ì„¤ëª…ê³¼ í•¨ê»˜, short op intervalë¡œ ì¸í•œ peri-postop renal, hepatic cx ë°œìƒ ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.`, 
          pat: `ë°˜ë³µì ì¸ ìˆ˜ìˆ ê³¼ ë§ˆì·¨ëŠ” ê°„ê³¼ ì‹ ì¥ì— ë¶€ë‹´ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¶ˆê°€í”¼í•˜ê²Œ ì§§ì€ ê°„ê²©ìœ¼ë¡œ ìˆ˜ìˆ í•˜ëŠ” ì´ìœ ì™€ ìœ„í—˜ì„±ì— ëŒ€í•´ ì„¤ëª…ë“œë¦½ë‹ˆë‹¤.` },
        
        { id: 'src_161', cat: 'special', lvl: 'warn', label: 'ì¹˜ì•„ ì†ìƒ ìœ„í—˜', sub: 'Loose teeth', 
          med: `ìˆ˜ìˆ ì¤‘ ë˜ëŠ” ì „ì‹ ë§ˆì·¨ì¤‘ ì¹˜ì•„ì†ìƒ ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì„¤ëª…í•˜ê³  ì¹˜ì•„ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì˜€ìŠµë‹ˆë‹¤.`, 
          pat: `í”ë“¤ë¦¬ëŠ” ì¹˜ì•„ê°€ ìˆëŠ” ê²½ìš° ë§ˆì·¨ë¥¼ ìœ„í•œ ê¸°ë„ ì‚½ê´€ ê³¼ì •ì—ì„œ ì¹˜ì•„ê°€ ì†ìƒë  ìˆ˜ ìˆìŒì„ ë¯¸ë¦¬ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.` },

        // --- 2. Cardiovascular ---
        { id: 'src_163', cat: 'cardio', lvl: 'warn', label: 'ê³ ë ¹ (Old Age)', sub: '> 4METs', 
          med: `Old ageë¡œ ì¸í•œ peri-op cardio-pulmonary complications ë°œìƒ ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.`, 
          pat: `ê³ ë ¹ì˜ í™˜ìë¶„ì€ ìˆ˜ìˆ ê³¼ ë§ˆì·¨ë¡œ ì¸í•´ ì‹¬ì¥ê³¼ íì— í•©ë³‘ì¦ì´ ë°œìƒí•  ìœ„í—˜ì´ ì¼ë°˜ì¸ë³´ë‹¤ ë†’ì•„ ì£¼ì˜ ê¹Šì€ ê´€ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.` },
        
        { id: 'src_166', cat: 'cardio', lvl: 'warn', label: 'ê³ í˜ˆì•• (HTN)', sub: 'BP Control', 
          med: `BP < 140/90ìœ¼ë¡œ ì¡°ì ˆí•˜ì„¸ìš”.\nAntihypertensive medicationì€ anticoagulantë¥¼ ì œì™¸í•˜ê³  op ë‹¹ì¼ê¹Œì§€ ë³µìš©í•˜ë„ë¡ í•´ ì£¼ì‹­ì‹œì˜¤.\nORì—ì„œ BP ì¡°ì ˆ ì•ˆë ì‹œ ìˆ˜ìˆ ì§€ì—°ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì„¤ëª…í•˜ì„¸ìš”.\nHTN medi ì¤‘ ARB, ACEi ëŠ” ìˆ˜ìˆ  24ì‹œê°„ ì „ ë³µìš© ì¤‘ë‹¨í•˜ì„¸ìš”.`, 
          pat: `í˜ˆì••ì€ 140/90 ì´í•˜ë¡œ ì¡°ì ˆë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ í˜ˆì••ì•½ì€ ë‹¹ì¼ê¹Œì§€ ë“œì‹œë˜, ì¼ë¶€(ARB, ACEi) ì•½ì œëŠ” ìˆ˜ìˆ  ì „ë‚ ë¶€í„° ì¤‘ë‹¨í•´ ì£¼ì‹­ì‹œì˜¤.` },
        
        { id: 'src_168', cat: 'cardio', lvl: 'warn', label: 'ë¶€ì •ë§¥/í˜ˆì—­í•™ ë¶ˆì•ˆì •', sub: 'Arrhythmia', 
          med: `ORì—ì„œ HR ì¡°ì ˆ ì•ˆë ì‹œ OP delay ê°€ëŠ¥ì„±ì— ëŒ€í•´ í™˜ì/ë³´í˜¸ìì—ê²Œ ì„¤ëª…í•˜ì„¸ìš”.\nPeri-OP hemodynamic instability ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì„¤ëª…í•˜ì„¸ìš”.\nPeri-op cardiovascular cx.(malignant arrhythmia, Myocardial Infarction, Heart Failure, Sudden Cardiac Death ë“±) ë°œìƒ ê°€ëŠ¥ì„± ë° ì´ë¡œ ì¸í•œ ICU/Ventilator care ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.`, 
          pat: `ìˆ˜ìˆ  ì¤‘ ì‹¬ë°•ìˆ˜ê°€ ì¡°ì ˆë˜ì§€ ì•Šìœ¼ë©´ ìˆ˜ìˆ ì´ ë¯¸ë¤„ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¶€ì •ë§¥ìœ¼ë¡œ ì¸í•œ í˜ˆì•• ë¶ˆì•ˆì • ë° ì‹¬ì¥ í•©ë³‘ì¦ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.` },
        
        { id: 'src_171', cat: 'cardio', lvl: 'crt', label: 'ê´€ìƒë™ë§¥ ìŠ¤í…íŠ¸ (PCI)', sub: 'DES/BMS ê¸°ê°„ í™•ì¸', 
          med: `PCI ì‹œí–‰ ë°›ì€ í™˜ìì—ì„œ elective opì¸ ê²½ìš° bare metal stentëŠ” 30~45ì¼ í›„, drug eluting stentì¸ ê²½ìš° 1ë…„ í›„ opí•˜ëŠ” ê²ƒì´ ì›ì¹™ì…ë‹ˆë‹¤.\nopì— ë”°ë¥¸ risk/benefit ê³ ë ¤ í›„ opì§„í–‰í•˜ì‹œê³ , anti-pltì œì œ ì‚¬ìš©ì€ CA ì»¨ì„¤íŠ¸ëŒ€ë¡œ ì‹œí–‰í•˜ì‹­ì‹œì˜¤.\nperi-postop cardiovascular cx(MI, IHD, CHF, mailig. arrhythmia, sudden cardiac arrest) ë°œìƒê°€ëŠ¥ì„±, anti-coagulant ìœ ì§€ë¡œ ì¸í•œ peri-postop bleeding tendency, massive transfusion, DIC ë°œìƒê°€ëŠ¥ì„±, ì´ë¡œ ì¸í•œ ICU/ventilator care ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì¶©ë¶„íˆ ì„¤ëª… í›„ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.`, 
          pat: `ìŠ¤í…íŠ¸ ì‹œìˆ  í›„ ì¼ì • ê¸°ê°„(ê¸ˆì†ìŠ¤í…íŠ¸ 1ë‹¬, ì•½ë¬¼ìŠ¤í…íŠ¸ 1ë…„)ì´ ì§€ë‚˜ì•¼ ì•ˆì „í•©ë‹ˆë‹¤. í˜ˆì „ ë°©ì§€ì œ ë³µìš©ê³¼ ì¶œí˜ˆ ìœ„í—˜ ì‚¬ì´ì˜ ê· í˜•ì„ ë§ì¶° ìˆ˜ìˆ í•©ë‹ˆë‹¤.` },

        // --- 3. Respiratory ---
        { id: 'src_177', cat: 'respi', lvl: 'crt', label: 'ê²°í•µ ì˜ì‹¬ (Tb)', sub: 'Active Tb r/o', 
          med: `CXR ìƒ TB ì˜ì‹¬ ì†Œê²¬ì— ëŒ€í•´ sputum AFB stain 3íšŒ & TB/RFP ë‚´ì„± PCR ê²°ê³¼ í™•ì¸ í•„ìš”í•©ë‹ˆë‹¤. ì‹œí–‰ ë° ê²°ê³¼ í™•ì¸ í›„ acceptable ì‹œ op.í•˜ì„¸ìš”.\nTB ê°€ëŠ¥ì„± ì™„ì „íˆ ë°°ì œë˜ì§€ ì•Šì€ í™˜ìë¡œ, ìˆ˜ìˆ ë°© ê°ì—¼ê´€ë¦¬ ìƒ ê·€ê³¼ì ìœ¼ë¡œ ë§ˆì§€ë§‰ ìˆœì„œë¡œ arrange í•´ì£¼ì„¸ìš”.\nActive Tb ì˜ì‹¬ë˜ëŠ” í™˜ìë¡œ infectivity ì†Œì‹¤ ì´í›„ ìˆ˜ìˆ í•˜ëŠ” ê²ƒì´ ì¢‹ê² ìœ¼ë‚˜ ìˆ˜ìˆ  ê¸‰í• ì‹œ ê°ì—¼ê´€ë¦¬ìƒ ë‹¹ì¼ ë§ˆì§€ë§‰ ìˆ˜ìˆ ë¡œ ì§„í–‰í•˜ì‹œê³ , ìˆ˜ìˆ  ë‹¹ì¼ ìˆ˜ìˆ  ì‹œê°ê³¼ ìˆ˜ìˆ ì‹¤, ìˆ ì „ ìˆ˜ìˆ ì‹¤ ì¤€ë¹„ì— ëŒ€í•´ ìˆ  ì „ ë§ˆì·¨í†µì¦ì˜í•™ê³¼ì™€ ìƒì˜í•˜ì‹­ì‹œì˜¤.`, 
          pat: `ê²°í•µì´ ì˜ì‹¬ë˜ì–´ ì •ë°€ ê²€ì‚¬ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì „ì—¼ë ¥ì´ ì—†ë‹¤ëŠ” ê²ƒì´ í™•ì¸ë  ë•Œê¹Œì§€ ìˆ˜ìˆ ì„ ë¯¸ë£¨ê±°ë‚˜, ê¸‰í•œ ê²½ìš° ê²©ë¦¬ëœ ìƒíƒœë¡œ ë§ˆì§€ë§‰ ìˆœì„œì— ìˆ˜ìˆ í•©ë‹ˆë‹¤.` },
        
        { id: 'src_182', cat: 'respi', lvl: 'warn', label: 'ì²œì‹ (Asthma)', sub: 'Inhaler ì§€ì°¸', 
          med: `PU íšŒì‹ ëŒ€ë¡œ ì „ì²˜ì¹˜ ì‹œí–‰í•˜ì„¸ìš”.\nOpì‹œ inhaler, nebeulizer op room ìœ¼ë¡œ ë‚´ë ¤ì£¼ì„¸ìš”.\nperi-postop respiratory cx.(asthma or COPD attack, atelectasis, pneumonia, pul.edema, respi. failure) ë°œìƒ ê°€ëŠ¥ì„± ë° ì´ë¡œ ì¸í•œ ICU/ventilator care ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.`, 
          pat: `ìˆ˜ìˆ  ì¤‘ ì²œì‹ ë°œì‘ ì˜ˆë°©ì„ ìœ„í•´ í˜¸í¡ê¸° ë‚´ê³¼ ì²˜ë°©ì„ ë”°ë¥´ë©°, ì‚¬ìš©í•˜ì‹œë˜ í¡ì…ê¸°ë¥¼ ìˆ˜ìˆ ì‹¤ë¡œ ê¼­ ê°€ì ¸ì™€ ì£¼ì„¸ìš”.` },

        // --- 4. Hepatic ---
        { id: 'src_185', cat: 'hepatic', lvl: 'warn', label: 'ê°„ìˆ˜ì¹˜ ìƒìŠ¹ (LFT)', sub: 'Elevated LFT', 
          med: `LFT f/u í•˜ê³  ê°ì†Œì¶”ì„¸ í™•ì¸í•˜ì„¸ìš”.\nperi-postop hepatic cx ë°œìƒê°€ëŠ¥ì„±ì— ëŒ€í•´ ì„¤ëª…í•˜ì„¸ìš”.\nPeri-op hepatic Cx.(fulminent hepatitis, hepatic failure ë“±) ë°œìƒ ê°€ëŠ¥ì„± ë° ì´ë¡œ ì¸í•œ ICU/Ventilator care ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì„¤ëª…í•˜ì„¸ìš”.`, 
          pat: `ê°„ ìˆ˜ì¹˜ê°€ ë†’ì•„ ìˆ˜ìˆ  í›„ ê°„ ê¸°ëŠ¥ì´ ë” ë‚˜ë¹ ì§ˆ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤. ìˆ˜ì¹˜ê°€ ë–¨ì–´ì§€ëŠ” ì¶”ì„¸ë¥¼ í™•ì¸ í›„ ìˆ˜ìˆ í•˜ëŠ” ê²ƒì´ ì•ˆì „í•©ë‹ˆë‹¤.` },
        
        { id: 'src_188', cat: 'hepatic', lvl: 'crt', label: 'ê°„ê²½ë³€ (LC)', sub: 'Varix Rupture Risk', 
          med: `Peri-op hepatic Cx.(acute hepatitis, fulminent hepatitis, liver failure ë“±) ë°œìƒ ê°€ëŠ¥ì„± ë° ì´ë¡œ ì¸í•œ ICU/Ventilator care ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.\nvarix rupture ë‚˜ ê°‘ì‘ìŠ¤ëŸ° massive bleeding ë°œìƒ ê°€ëŠ¥ì„± ë° ì´ë¡œ ì¸í•œ ICU/Ventilator care ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.`, 
          pat: `ê°„ê²½í™”ë¡œ ì¸í•´ ìˆ˜ìˆ  ì¤‘ ì‹ë„ ì •ë§¥ë¥˜ íŒŒì—´ì´ë‚˜ ëŒ€ëŸ‰ ì¶œí˜ˆ ìœ„í—˜ì´ ìˆì–´ ì¤‘í™˜ìì‹¤ ì§‘ì¤‘ ì¹˜ë£Œ ê°€ëŠ¥ì„±ì„ ì—´ì–´ë‘ê³  ìˆ˜ìˆ í•©ë‹ˆë‹¤.` },

        // --- 5. Renal ---
        { id: 'src_192', cat: 'renal', lvl: 'warn', label: 'ì†Œë³€ê²€ì‚¬ ì´ìƒ', sub: 'Abn U/A', 
          med: `U/A f/u í•˜ê³  acceptableì‹œ opí•˜ì„¸ìš”. Abnormal ì†Œê²¬ ì§€ì†ì‹œ NE c ì‹œí–‰ í›„ íšŒì‹ í•˜ì„¸ìš”.\nPeri-op renal cx.(ARF, CRF ë“±) ë°œìƒ ê°€ëŠ¥ì„± ë° ì´ë¡œ ì¸í•œ ì‘ê¸‰ Hemodialysis ì‹œí–‰, ICU/Ventilator care ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì„¤ëª…í•˜ì„¸ìš”.`, 
          pat: `ì†Œë³€ ê²€ì‚¬ ì´ìƒ ì†Œê²¬ì— ëŒ€í•´ ì‹ ì¥ë‚´ê³¼ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ìˆ˜ìˆ  í›„ ì¼ì‹œì ìœ¼ë¡œ íˆ¬ì„ì´ í•„ìš”í•  ìˆ˜ë„ ìˆìŒì„ ì„¤ëª…ë“œë¦½ë‹ˆë‹¤.` },
        
        { id: 'src_200', cat: 'renal', lvl: 'crt', label: 'ê³ ì¹¼ë¥¨í˜ˆì¦ (HyperK)', sub: 'K > 5.0', 
          med: `K 3.0-5.0 ì‚¬ì´ë¡œ ì¡°ì ˆ í›„ op ì§„í–‰í•˜ì„¸ìš”. Hyperkalemia ì†Œê²¬ ì§€ì†ì‹œ op delay ê°€ëŠ¥ì„± ì„¤ëª…í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.\nHyperkalemiaì˜ ê²½ìš° ìˆ˜ìˆ ë°©ì—ì„œì˜ ì¡°ì ˆì´ wardì—ì„œ ì¡°ì ˆí•˜ëŠ” ê²ƒë³´ë‹¤ ì–´ë µìŠµë‹ˆë‹¤.\nHyperkalemia ì§€ì†ì‹œ op delayê°€ëŠ¥ì„± ì„¤ëª…í•˜ê³ , cardiac complication ë°œìƒ ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.`, 
          pat: `í˜ˆì•¡ ë‚´ ì¹¼ë¥¨ ìˆ˜ì¹˜ê°€ ë†’ìœ¼ë©´ ì‹¬ì¥ì— ìœ„í—˜í•˜ë¯€ë¡œ, ìˆ˜ì¹˜ë¥¼ 3.0-5.0 ì‚¬ì´ë¡œ ë‚®ì¶˜ í›„ ìˆ˜ìˆ ì„ ì§„í–‰í•´ì•¼ í•©ë‹ˆë‹¤.` },

        // --- 6. Endocrine ---
        { id: 'src_204', cat: 'endo', lvl: 'warn', label: 'ë‹¹ë‡¨ (DM)', sub: 'BS Control', 
          med: `BS 120-200ìœ¼ë¡œ strictí•˜ê²Œ ì¡°ì ˆí•˜ì„¸ìš”. BS ì¡°ì ˆë˜ì§€ ì•Šì„ì‹œ ìˆ˜ìˆ  delay ê°€ëŠ¥ì„±ì— ëŒ€í•´ì„œ ì„¤ëª…í•˜ì„¸ìš”.\nBS control ë˜ì§€ ì•ŠëŠ” ë¶„ìœ¼ë¡œ ì „ì‹ ë§ˆì·¨ í•˜ op risk ë†’ì€ ë¶„ìœ¼ë¡œ opì— ë”°ë¥´ëŠ” risk/benefit ì¶©ë¶„íˆ ê³ ë ¤í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.\nìˆ˜ìˆ ë‹¹ì¼ ì•„ì¹¨ê¹Œì§€ BS í™•ì¸í•˜ì‹  í›„ ë‹¹ì¼ ë§ˆì·¨í†µì¦ì˜í•™ê³¼ì™€ ìƒì˜í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.`, 
          pat: `í˜ˆë‹¹ì„ 120-200 ì‚¬ì´ë¡œ ì—„ê²©í•˜ê²Œ ì¡°ì ˆí•´ì•¼ í•©ë‹ˆë‹¤. ì¡°ì ˆë˜ì§€ ì•Šìœ¼ë©´ ê°ì—¼ ìœ„í—˜ ë“±ìœ¼ë¡œ ìˆ˜ìˆ ì´ ì—°ê¸°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.` },
        
        { id: 'src_208', cat: 'endo', lvl: 'warn', label: 'ìŠ¤í…Œë¡œì´ë“œ ì‚¬ìš©ë ¥', sub: 'Adrenal Insufficiency', 
          med: `EC c íšŒì‹ ëŒ€ë¡œ steroid coverage ì‹œí–‰ ë°”ëë‹ˆë‹¤.\n2ndary adrenal insufficiency ì— ì˜í•œ peri-postop hemodynamic instability, e' imbalance, fluid retention, delayed emergence ë°œìƒê°€ëŠ¥ì„±ì— ëŒ€í•´ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.\nPeri-op hemodynamic instability ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì„¤ëª…í•˜ì„¸ìš”.`, 
          pat: `ì¥ê¸°ê°„ ìŠ¤í…Œë¡œì´ë“œ ì‚¬ìš©ìœ¼ë¡œ ë¶€ì‹  ê¸°ëŠ¥ì´ ì•½í•´ì ¸ ìˆì„ ìˆ˜ ìˆì–´, ìˆ˜ìˆ  ì¤‘ í˜¸ë¥´ëª¬ ë³´ì¶© ìš”ë²•ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.` },
        
        { id: 'src_213', cat: 'endo', lvl: 'crt', label: 'ë¶€ì‹  ì¢…ì–‘', sub: 'Adrenal Incidentaloma', 
          med: `pheochromocytoma ê°€ëŠ¥ì„± ë‚®ì§€ë§Œ ì™„ì „íˆ ë°°ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. Peri-postop hemodynamic instability, electolyte imbalance, hypertensive crisis ë° major organ damage ë°œìƒ ê°€ëŠ¥ì„± ë° ì´ë¡œ ì¸í•œ ICU/ventilator care ë°œìƒê°€ëŠ¥ì„±ì— ëŒ€í•˜ì—¬ ì¶©ë¶„íˆ ì„¤ëª… í›„ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.`, 
          pat: `ë¶€ì‹  ì¢…ì–‘ì´ í˜¸ë¥´ëª¬ì„ ë¶„ë¹„í•  ê²½ìš° í˜ˆì••ì´ ê¸‰ê²©íˆ ë³€í•  ìˆ˜ ìˆì–´, ì´ì— ëŒ€ë¹„í•œ ì •ë°€ ê°ì‹œí•˜ì— ìˆ˜ìˆ ì„ ì§„í–‰í•©ë‹ˆë‹¤.` },
        
        { id: 'src_216', cat: 'endo', lvl: 'warn', label: 'ê°‘ìƒì„  ì§ˆí™˜', sub: 'Hyper/Hypo Thyroid', 
          med: `euthyroid state í™•ì¸ í›„ op ì§„í–‰í•˜ì„¸ìš”.\n[Hypo] Hypothyroidismìœ¼ë¡œ ì¸í•´ ìˆ˜ìˆ  ì¤‘ ì¶œí˜ˆì˜ ìœ„í—˜ì´ ì¦ê°€í•˜ê³ , ë§ˆì·¨ì œ ë° ì§„í†µì œì— ëŒ€í•œ ê°ìˆ˜ì„±ì´ ì¦ê°€í•˜ë©°, ìˆ˜ìˆ  í›„ í˜¸í¡ë¶€ì „... ì¸ì§€ ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.\n[Hyper] peri-postop hemodynamic instability, thyroid storm, hyperthermia... ë°œìƒê°€ëŠ¥ì„± ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.`, 
          pat: `ê°‘ìƒì„  ìˆ˜ì¹˜ê°€ ì •ìƒì¼ ë•Œ ìˆ˜ìˆ í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì•ˆì „í•©ë‹ˆë‹¤. ê¸°ëŠ¥ ì €í•˜ì¦ì´ë‚˜ í•­ì§„ì¦ ìƒíƒœì—ì„œëŠ” íšŒë³µ ì§€ì—°ì´ë‚˜ ì‹¬ì¥ í•©ë³‘ì¦ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤.` },

        // --- 7. Fever / Hematologic ---
        { id: 'src_222', cat: 'infect', lvl: 'warn', label: 'ë°œì—´ (Fever)', sub: 'Op Delay', 
          med: `ìƒí™˜ ìµœê·¼ê¹Œì§€ Fever ë°œìƒí•œ ìƒíƒœë¡œ subside í›„ ìˆ˜ìˆ  ì§„í–‰í•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ê² ìŠµë‹ˆë‹¤.\në‹¤ë§Œ ìˆ˜ìˆ  ë¶€ìœ„ì™€ ê´€ë ¨ëœ feverë¡œ íŒë‹¨ë  ê²½ìš° ë‹¹ì¼ ë§ˆì·¨ê³¼ì™€ ìƒì˜í•˜ì‹­ì‹œì˜¤.\nìˆ˜ìˆ ë‹¹ì¼ fever ë°œìƒì‹œ op delay ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì¶©ë¶„íˆ ì„¤ëª…í•˜ì‹œê³ , evaluation ë˜ì§€ ì•Šì€ ê¸°ì¡´ ì§ˆí™˜ì˜ ì•…í™” ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”`, 
          pat: `ì—´ì´ ë‚˜ëŠ” ìƒíƒœì—ì„œëŠ” ìˆ˜ìˆ  ìœ„í—˜ì´ ë†’ìœ¼ë¯€ë¡œ ì—´ì´ ë‚´ë¦° í›„ ì§„í–‰í•˜ëŠ” ê²ƒì´ ì›ì¹™ì…ë‹ˆë‹¤. ë‹¹ì¼ ì—´ì´ ë‚˜ë©´ ìˆ˜ìˆ ì´ ì—°ê¸°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.` },
        
        { id: 'src_226', cat: 'heme', lvl: 'warn', label: 'ë¹ˆí˜ˆ/ì¶œí˜ˆ', sub: 'Anemia/PT Prolong', 
          med: `ê·€ê³¼ì  ìˆ˜ìˆ  ê·œëª¨ ë° ì¶œí˜ˆëŸ‰ ê³ ë ¤í•˜ì—¬ ìˆ˜í˜ˆ ë˜ëŠ” í˜ˆì•¡ì œì œ ì¤€ë¹„í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.\nì‘ê¸‰ ìˆ˜í˜ˆ ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì„¤ëª…í•˜ì„¸ìš”.\n[PT Prolong] Anticoagulant ë³µìš© ì¤‘ë‹¨ì‹œ thromboembolic event(angina, MI, cerebral infarction...) ë° ë³µìš© ì¤‘ë‹¨ ì‹œê¸°ì— ë”°ë¼ì„œëŠ” bleeding ê°€ëŠ¥ì„±ì´ ìˆìŒì„ ì„¤ëª…í•˜ê³  ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.`, 
          pat: `ìˆ˜ìˆ  ì¤‘ ì¶œí˜ˆ ê°€ëŠ¥ì„±ì— ëŒ€ë¹„í•´ ìˆ˜í˜ˆì„ ì¤€ë¹„í•©ë‹ˆë‹¤. í˜ˆì „ ì•½ë¬¼ì„ ëŠìœ¼ë©´ í˜ˆì „ ìœ„í—˜ì´, ìœ ì§€í•˜ë©´ ì¶œí˜ˆ ìœ„í—˜ì´ ìˆì–´ ê· í˜• ì¡íŒ ê´€ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.` },

        // --- 8. Rheumatologic ---
        { id: 'src_233', cat: 'special', lvl: 'crt', label: 'ë¥˜ë§ˆí‹°ìŠ¤ (RA/SLE)', sub: 'C-spine/Airway', 
          med: `Difficult intubationê³¼ ì´ë¡œ ì¸í•œ neck, tooth injury, hypoxic brain damage, fiberoptic intubation, ì‘ê¸‰ tracheostomy, awake intubation, op delay ê°€ëŠ¥ì„± ì„¤ëª…í•˜ê³  ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.\n[SLE/RA] atlanto-axial subluxation ê°€ëŠ¥ì„± ë° intubation riskì— ëŒ€í•´ OS note ë‚¨ê²¨ì£¼ì„¸ìš”.`, 
          pat: `ë¥˜ë§ˆí‹°ìŠ¤ ê´€ì ˆì—¼ìœ¼ë¡œ ëª© ê´€ì ˆì´ ë¶ˆì•ˆì •í•  ìˆ˜ ìˆì–´, ëª©ì„ ë³´í˜¸í•˜ë©° íŠ¹ìˆ˜ ì¥ë¹„ë¡œ ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ë§ˆì·¨ë¥¼ ìœ ë„í•©ë‹ˆë‹¤.` },

        // --- 9. Neuro ---
        { id: 'src_246', cat: 'neuro', lvl: 'warn', label: 'ë‡Œì¡¸ì¤‘/ë‡Œë³‘ë³€', sub: 'Stroke/Mass', 
          med: `Peri-op cerebrovascular Cx.(Cerebral infartion, cerebral hemorrhage ë“±) ë°œìƒ ê°€ëŠ¥ì„± ë° ì´ë¡œ ì¸í•œ ICU/Ventilator care ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.\nPeri-op neurologic Cx ë°œìƒ ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.`, 
          pat: `ë‡Œí˜ˆê´€ ì§ˆí™˜ ê³¼ê±°ë ¥ì´ ìˆëŠ” ê²½ìš° ìˆ˜ìˆ  ìŠ¤íŠ¸ë ˆìŠ¤ë¡œ ì¸í•´ ë‡Œì¡¸ì¤‘ ë“±ì´ ì¬ë°œí•  ìœ„í—˜ì´ ìˆì–´ ì§‘ì¤‘ ê´€ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.` },
        
        { id: 'src_250', cat: 'neuro', lvl: 'crt', label: 'ì¤‘ì¦ ê·¼ë¬´ë ¥ì¦ (MG)', sub: 'Myasthenia Gravis', 
          med: `MGì˜ ê°€ëŠ¥ì„±ì€ ì ìœ¼ë‚˜ ë§Œì•½ì˜ ê²½ìš° delayed emergence, weaning failure, cholinergic crisis ë° ì´ë¡œ ì¸í•œ ICU/Ventilator care ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.\nPeri/post op neurologic cx.ë°œìƒê°€ëŠ¥ì„±(delirium, seizure attack, delayed emergence ë“±) ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.`, 
          pat: `ê·¼ë¬´ë ¥ì¦ìœ¼ë¡œ ì¸í•´ ë§ˆì·¨ í›„ ìê°€ í˜¸í¡ íšŒë³µì´ ëŠ¦ì–´ì§ˆ ìˆ˜ ìˆì–´, í•„ìš”ì‹œ ì¸ê³µí˜¸í¡ê¸° ì¹˜ë£Œë¥¼ ë°›ì„ ìˆ˜ ìˆìŒì„ ì„¤ëª…ë“œë¦½ë‹ˆë‹¤.` },

        // --- 10. Trauma/Ortho ---
        { id: 'src_260', cat: 'special', lvl: 'crt', label: 'ì•ˆë©´/ê²½ì¶” ì†ìƒ', sub: 'Facial Fx/C-spine', 
          med: `Difficult intubationê³¼ ì´ë¡œ ì¸í•œ neck, tooth injury, hypoxic brain damage, fiberoptic intubation, awake intubation, ì‘ê¸‰ tracheostomy, op delay ê°€ëŠ¥ì„± ì„¤ëª…í•˜ê³  ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.\n[C-spine] Difficult intubationê³¼ ì´ë¡œ ì¸í•œ neck, tooth & cord injury... op delay ê°€ëŠ¥ì„± ì„¤ëª…í•˜ê³  hyperextensionì‹œ ìƒê¸¸ ìˆ˜ ìˆëŠ” cord injuryì— ëŒ€í•´ ì„¤ëª…í•˜ì„¸ìš”.`, 
          pat: `ì•ˆë©´ ê³¨ì ˆì´ë‚˜ ëª© ë””ìŠ¤í¬ë¡œ ì¸í•´ ê¸°ë„ í™•ë³´ê°€ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹ ê²½ ì†ìƒì„ ë§‰ê¸° ìœ„í•´ íŠ¹ìˆ˜ ë‚´ì‹œê²½ì„ ì´ìš©í•´ ì•ˆì „í•˜ê²Œ ë§ˆì·¨í•©ë‹ˆë‹¤.` },

        { id: 'src_272', cat: 'respi', lvl: 'warn', label: 'ì²™ì¶”ì¸¡ë§Œì¦', sub: 'Scoliosis', 
          med: `Peri-op cardiovascular cx.(malignant arrhythmia...) ë°œìƒ ê°€ëŠ¥ì„±...\nPeri-op respiratory cx.(atelectasis, pneumonia, ARDS...) ë°œìƒ ê°€ëŠ¥ì„±...\nDifficult intubationê³¼ ì´ë¡œ ì¸í•œ neck, tooth injury... ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”`, 
          pat: `ì²™ì¶”ì¸¡ë§Œì¦ìœ¼ë¡œ ì¸í•´ ì‹¬ì¥ê³¼ í ê¸°ëŠ¥ì— ì˜í–¥ì´ ìˆì„ ìˆ˜ ìˆì–´, ìˆ˜ìˆ  ì „í›„ í•©ë³‘ì¦ ì˜ˆë°©ì— ìµœì„ ì„ ë‹¤í•˜ê² ìŠµë‹ˆë‹¤.` },

        // --- 11. Psych ---
        { id: 'src_277', cat: 'neuro', lvl: 'warn', label: 'ìš°ìš¸ì¦ (MDD)', sub: 'High Risk', 
          med: `peri-postop neuropsychiatric sx ì•…í™” ê°€ëŠ¥ì„±, postop delirium ë°œìƒê°€ëŠ¥ì„±ì— ëŒ€í•´ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.\nPY op risk high ì¸ ë¶„ìœ¼ë¡œ ê·€ê³¼ì  ìˆ˜ìˆ ì˜ risk/benefit ê³ ë ¤í•˜ì—¬ í™˜ì ë° ë³´í˜¸ìì™€ ìˆ˜ìˆ  ì§„í–‰ ì—¬ë¶€ ì¶©ë¶„íˆ ìƒì˜í•˜ì„¸ìš”.\nìˆ˜ìˆ  24ì‹œê°„ ì „í›„ ë³´í˜¸ì ìƒì£¼í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ì„¸ìš”.`, 
          pat: `ìˆ˜ìˆ  í›„ ì¼ì‹œì ì¸ ì„¬ë§ì´ë‚˜ ìš°ìš¸ê° ì•…í™”ê°€ ì˜¬ ìˆ˜ ìˆì–´ ë³´í˜¸ìë¶„ì˜ 24ì‹œê°„ ìƒì£¼ê°€ í•„ìš”í•©ë‹ˆë‹¤.` },

        // --- 12. Obesity ---
        { id: 'src_281', cat: 'special', lvl: 'warn', label: 'ê³ ë„ ë¹„ë§Œ', sub: 'BMI > 35', 
          med: `Obesityë¡œ ì¸í•œ delayed emergence ë° difficult intubation, ì´ë¡œ ì¸í•œ neck, tooth injury, hypoxic brain damage, awake intubation, ì‘ê¸‰ tracheostomy ê°€ëŠ¥ì„± ì„¤ëª…í•˜ì„¸ìš”.\nBMI>35 ì¸ í™˜ìë¡œ, room air ABGA ì‹œí–‰ ë° ê²°ê³¼ í™•ì¸ í›„ acceptable ì‹œ op.í•˜ì„¸ìš”.`, 
          pat: `ê³ ë„ ë¹„ë§Œì¸ ê²½ìš° ê¸°ë„ í™•ë³´ê°€ ì–´ë µê³  ë§ˆì·¨ íšŒë³µì´ ëŠë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•ˆì „ì„ ìœ„í•´ íŠ¹ìˆ˜ ì¥ë¹„ë¥¼ ì¤€ë¹„í•˜ê³  ì‚°ì†Œ ìˆ˜ì¹˜ë¥¼ ë©´ë°€íˆ í™•ì¸í•©ë‹ˆë‹¤.` },

        // --- 13. JW (No Blood) ---
        { id: 'src_285', cat: 'special', lvl: 'crt', label: 'ë¬´ìˆ˜í˜ˆ (JW)', sub: 'Refusal of Blood', 
          med: `ìˆ˜í˜ˆ ê±°ë¶€í•˜ëŠ” ë¶„ìœ¼ë¡œ ê³¼ë‹¤ì¶œí˜ˆë¡œ ì¸í•œ ë‹¤ë°œì„± ì¥ê¸° ì†ìƒ ë° ì´ë¡œ ì¸í•œ ICU/Ventilator care ê°€ëŠ¥ì„±, ë‡Œì†ìƒ ë“±ìœ¼ë¡œ ì¸í•œ ì¼ì‹œì ,ì˜êµ¬ì  í›„ìœ ì¦ ë°œìƒê°€ëŠ¥ì„±, ì‚¬ë§ ê°€ëŠ¥ì„± ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì‹œê³  ì´ì™€ ê´€ë ¨ ë§ˆì·¨ê³¼ ìƒì˜ í›„ OP ì§„í–‰í•˜ì„¸ìš”.`, 
          pat: `ë¬´ìˆ˜í˜ˆ ì›ì¹™ì„ ì¡´ì¤‘í•˜ë‚˜, ëŒ€ëŸ‰ ì¶œí˜ˆ ì‹œ ì¥ê¸° ì†ìƒì´ë‚˜ ìƒëª…ì˜ ìœ„í—˜ì´ ë”°ë¥¼ ìˆ˜ ìˆìŒì„ ì¶©ë¶„íˆ ì¸ì§€í•´ ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤.` },

        // --- 14. C-sec/LMS ---
        { id: 'src_288', cat: 'special', lvl: 'warn', label: 'ì œì™•ì ˆê°œ (C-sec)', sub: 'Anesthesia Plan', 
          med: `ì „ì‹ ë§ˆì·¨, ì²™ì¶”ë§ˆì·¨, IV PCA ì— ëŒ€í•˜ì—¬ ì„¤ëª…í•˜ì˜€ìŠµë‹ˆë‹¤.\nDifficult intubationê³¼ ì´ë¡œ ì¸í•œ neck, tooth injury... op delay ê°€ëŠ¥ì„± ì„¤ëª…í•˜ê³  ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.`, 
          pat: `ì‚°ëª¨ì™€ íƒœì•„ì—ê²Œ ê°€ì¥ ì•ˆì „í•œ ë§ˆì·¨ ë°©ë²•(ì²™ì¶”ë§ˆì·¨ ë“±)ê³¼ í†µì¦ ì¡°ì ˆ ë°©ë²•ì— ëŒ€í•´ ì„¤ëª…ë“œë ¸ìŠµë‹ˆë‹¤.` },

        { id: 'src_291', cat: 'special', lvl: 'crt', label: 'í›„ë‘ ë¯¸ì„¸ ìˆ˜ìˆ  (LMS)', sub: 'Shared Airway', 
          med: `í˜„ ìƒíƒœ ë° intubation ê´€ë ¨í•˜ì—¬ OL note ë‚¨ê²¨ì£¼ì„¸ìš”.\nDifficult intubationê³¼ ì´ë¡œ ì¸í•œ neck, tooth injury, hypoxic brain damage, fiberoptic intubation, ì‘ê¸‰ tracheostomy, awake intubation, op delay ê°€ëŠ¥ì„± ì„¤ëª…í•˜ì„¸ìš”.`, 
          pat: `ì„±ëŒ€ ìˆ˜ìˆ ì€ ê¸°ë„ë¥¼ ê³µìœ í•˜ë¯€ë¡œ ë§ˆì·¨ ê´€ë¦¬ê°€ ê¹Œë‹¤ë¡­ìŠµë‹ˆë‹¤. ì¹˜ì•„ ì†ìƒ ì˜ˆë°©ê³¼ ì•ˆì „í•œ í˜¸í¡ ìœ ì§€ë¥¼ ìœ„í•´ ìµœì„ ì„ ë‹¤í•˜ê² ìŠµë‹ˆë‹¤.` },

        // --- 15. Emergency ---
        { id: 'src_300', cat: 'special', lvl: 'crt', label: 'ì‘ê¸‰ ìˆ˜ìˆ  (Emergency)', sub: 'Full Stomach', 
          med: `Emergency opì˜ ìœ„í—˜ì„±, ê° ê³¼ê±°ë ¥ì— ë”°ë¥¸ peri-op complication ê°€ëŠ¥ì„±ì— ëŒ€í•´ ì„¤ëª…í•˜ì„¸ìš”.\nPeri-op cardiovascular cx... Peri-op respiratory cx... Peri-op renal cx... Peri-op hepatic Cx... Peri-op bleeding tendency... Peri-OP hemodynamic instability ê°€ëŠ¥ì„± ë° ì´ë¡œ ì¸í•œ ICU/Ventilator care ê°€ëŠ¥ì„± ì— ëŒ€í•´ ì¸ì§€ë™ì˜ì„œ ì‹œí–‰í•˜ì„¸ìš”.`, 
          pat: `ì‘ê¸‰ ìˆ˜ìˆ ì€ ê¸ˆì‹ ì‹œê°„ì´ ë¶€ì¡±í•˜ê³  ì¤€ë¹„ê°€ ì™„ë²½í•˜ì§€ ì•Šì•„ í•©ë³‘ì¦ ìœ„í—˜ì´ ì •ê·œ ìˆ˜ìˆ ë³´ë‹¤ ë†’ìŠµë‹ˆë‹¤. ë°œìƒ ê°€ëŠ¥í•œ ëª¨ë“  ìœ„í—˜ì— ëŒ€í•´ ëŒ€ë¹„í•˜ê³  ìˆ˜ìˆ ì„ ì§„í–‰í•©ë‹ˆë‹¤.` }
    ];

    // ============================================================
    // Logic Engine
    // ============================================================
    const cats = {
        'all': 'ì „ì²´', 'cardio': 'ì‹¬ì¥', 'respi': 'í˜¸í¡ê¸°', 'hepatic': 'ê°„/ì†Œí™”ê¸°',
        'renal': 'ì‹ ì¥', 'endo': 'ë‚´ë¶„ë¹„', 'neuro': 'ì‹ ê²½', 'heme': 'í˜ˆì•¡', 
        'infect': 'ê°ì—¼', 'special': 'íŠ¹ìˆ˜/ì‘ê¸‰'
    };
    
    let curCat = 'all';
    let selIds = new Set();

    const tabBox = document.getElementById('tabs');
    Object.keys(cats).forEach(k => {
        const b = document.createElement('div');
        b.className = `tab ${k==='all'?'active':''}`;
        b.innerText = cats[k];
        b.onclick = () => { curCat = k; render(); updateTabs(); };
        tabBox.appendChild(b);
    });

    function updateTabs() {
        Array.from(tabBox.children).forEach(c => {
            c.classList.toggle('active', c.innerText === cats[curCat]);
        });
    }

    function render() {
        const listBox = document.getElementById('list');
        const filtered = curCat === 'all' ? masterData : masterData.filter(d => d.cat === curCat);
        
        listBox.innerHTML = filtered.map(d => `
            <div class="item ${selIds.has(d.id)?'selected':''}" onclick="toggle('${d.id}')">
                <div class="item-head">
                    <span class="item-title">${d.label}</span>
                    <span class="tag ${d.lvl}">${d.lvl.toUpperCase()}</span>
                </div>
                <div class="item-sub">${d.sub}</div>
            </div>
        `).join('');
    }

    function toggle(id) {
        if(selIds.has(id)) selIds.delete(id); else selIds.add(id);
        render();
        print();
    }

    function print() {
        const medBox = document.getElementById('outMed');
        const patBox = document.getElementById('outPat');
        
        if(selIds.size === 0) {
            medBox.innerHTML = '<div style="color:#9ca3af; text-align:center; padding-top:150px;">ì¢Œì¸¡ ë¦¬ìŠ¤íŠ¸ì—ì„œ í™˜ìì˜ ì§ˆí™˜ì„ ì„ íƒí•˜ì„¸ìš”.</div>';
            patBox.innerHTML = '<div style="color:#9ca3af; text-align:center; padding-top:150px;">í™˜ìê°€ ì´í•´í•˜ê¸° ì‰¬ìš´ ì„¤ëª…ì´ ìƒì„±ë©ë‹ˆë‹¤.</div>';
            return;
        }

        const items = masterData.filter(d => selIds.has(d.id));
        
        medBox.innerHTML = items.map(d => `
            <div style="margin-bottom:20px;">
                <strong style="color:#111; font-size:15px;">â–¶ ${d.label}</strong>
                <div style="margin-top:6px; padding-left:12px; border-left:4px solid #cbd5e1; font-size:13.5px; line-height:1.7;">${d.med.replace(/\n/g, '<br>')}</div>
            </div>`).join('');
            
        patBox.innerHTML = items.map(d => `
            <div style="margin-bottom:20px;">
                <strong style="color:#111; font-size:15px;">âœ… ${d.label}</strong>
                <div style="margin-top:6px; font-size:14px;">${d.pat}</div>
            </div>`).join('');
    }

    function resetAll() {
        selIds.clear();
        render();
        print();
    }

    function copyResult() {
        if(selIds.size === 0) return alert('ì„ íƒëœ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.');
        const items = masterData.filter(d => selIds.has(d.id));
        const txt = items.map(d => `[${d.label}]\n${d.med}`).join('\n\n');
        navigator.clipboard.writeText(txt).then(() => alert('EMR ê¸°ë¡ ë³µì‚¬ ì™„ë£Œ'));
    }

    // Start
    render();
</script>
</body>
</html>